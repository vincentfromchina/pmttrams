package com.dayu.smarttmp;



public class dayinfo
{
	int start_day = 0;
	int end_day = 0;
	int    day_nums = 0;
	int year = 0;
	int month = 0;
	int day = 0;
	int todayis = 0;
	boolean isspcday = false;
		
	final int[][] spcday={{2017128,30},{201715,58},{2017120,57},{201723,31},
			{2017211,32},{2017218,33},{201735,34},{2017320,35},{201744,36},
			{2017420,37},{201755,38},{2017521,39},{2017530,40},{201765,41},
			{2017621,42},{201777,43},{2017722,44},{201787,45},{2017823,46},
			{201797,47},{2017923,48},{2017104,49},{2017108,50},{20171023,51},
			{20171028,52},{2017117,53},{20171122,54},{2017127,55},{20171222,56},
			//2018
			{201815,57},{2018120,58},{2018124,59},{201824,31},{2018216,30},
			{2018219,33},{201832,32},{201835,34},{2018321,35},{201845,36},
			{2018420,37},{201855,38},{2018521,39},{201866,41},{2018618,40},
			{2018621,42},{201877,43},{2018723,44},{201887,45},{2018823,46},
			{201898,47},{2018923,48},{2018924,49},{2018108,50},{20181017,52},
			{20181023,51},{2018117,53},{20181122,54},{2018127,55},{20181222,56},
			//2019
			{201915,57},{2019113,59},{2019120,58},{201924,31},{201925,30},{2019219,32},
			{201936,34},{2019321,35},{201945,36},{2019420,37},{201956,38},{2019521,39},
			{201966,41},{201967,40},{2019621,42},{201977,43},{2019723,44},{201988,45},
			{2019823,46},{201998,47},{2019913,49},{2019923,48},{2019107,52},{2019108,50},
			{20191024,51},{2019118,53},{20191122,54},{2019127,55},{20191222,56},
			//2020
			{202012,59},{202016,57},{2020120,58},{2020125,30},{202024,31},{202028,32},
			{2020219,33},{202035,34},{2020320,35},{202044,36},{2020419,37},{202055,38},
			{2020520,39},{202065,41},{2020621,42},{2020625,40},{202076,43},{2020722,44},
			{202087,45},{2020822,46},{202097,47},{2020922,48},{202098,50},{20201023,51},
			{20201025,52},{2020117,53},{20201122,54},{2020127,55},{20201221,56},
			//2021
			{202115,57},{2021113,59},{202123,31},{2021212,30},{2021218,33},{2021226,32},
			{202135,34},{2021320,35},{202144,36},{2021420,37},{202155,38},{2021521,39},
			{202165,41},{2021614,40},{2021621,42},{202177,43},{2021722,44},{202187,45},
			{2021823,46},{202197,47},{2021921,49},{2021923,48},{2021108,50},{20211014,52},
			{20211023,51},{2021117,53},{20211122,54},{2021127,55},{20211221,56},
			//2022
			{202215,57},{2022110,59},{2022120,58},{202221,30},{202224,31},{2022215,32},
			{2022219,33},{202235,34},{2022320,35},{202245,36},{2022420,37},{202255,38},
			{2022521,39},{202263,40},{202266,41},{2022621,42},{202277,43},{2022723,44},
			{202287,45},{2022823,46},{202297,47},{2022923,48},{2022104,52},{2022108,50},
			{20221023,51},{2022117,53},{20221122,54},{2022127,55},{20221222,53},{20221230,59}
			};
	        
	        //某天对应数组array的值
	
	final int[][] initpara = {{20171,3,28},{20172,4,26},{20173,3,28},{20174,4,26},
						{20175,5,26},{20176,6,24},{20177,7,23},{20178,9,22},
						{20179,10,20},{201710,11,20},{201711,12,18},{201712,13,18},
						//2018
						{20181,14,17},{20182,15,16},{20183,13,17},{20184,15,16},
						{20185,15,15},{20186,17,14},{20187,17,13},{20188,19,11},
						{20189,21,10},{201810,21,9},{201811,23,8},{201812,23,7},
			            //2019
						{20191,25,6},{20192,26,5},{20193,24,7},{20194,28,5},
						{20195,26,5},{20196,27,3},{20197,28,3},{20198,0,30},
						{20199,4,29},{201910,2,28},{201911,4,26},{201912,5,26},
						//2020
						{20201,6,25},{20202,7,23},{20203,7,24},{20204,8,23},
						{20205,8,23},{20206,9,21},{20207,10,21},{20208,11,19},
						{20209,13,17},{202010,14,17},{202011,15,15},{202012,16,15},
						//2021
						{20211,17,13},{20212,19,12},{20213,17,13},{20214,19,12},
						{20215,19,12},{20216,20,10},{20217,21,10},{20218,22,8},
						{20219,24,7},{202110,24,6},{202111,26,5},{202112,26,4},
						//2022
						{20221,28,3},{20222,0,28},{20223,28,3},{20224,0,30},
						{20225,0,30},{20226,2,29},{20227,2,29},{20228,3,27},
						{20229,5,26},{202210,5,25},{202211,7,24},{202212,7,23}
						
					};  //公历第一天对应农历的数组下标,农历第一天的对应公历
	
	    /**
	    * 构造函数
	    */
    public dayinfo(int year, int month, int day)
		{
			super();
			this.year = year;
			this.month = month;
			this.day = day;
			
			this.todayis = Get_info();
		}

private int Get_info()
   {
	
	Get_sepcday();
	
	if (isspcday)
	{
		return todayis;
	}
	
	for (int i = 0; i < initpara.length; i++)
	{
		String aa = String.valueOf(year)+String.valueOf(month);
		int cc = Integer.valueOf(aa);
		if(cc == initpara[i][0])
		{
			start_day = initpara[i][1]; //公历第一天对应农历的数组下标
			end_day = initpara[i][2];  //农历第一天的对应公历
		   //day_nums = 31;  
			break;
		}
	}
	/*
	 if(start_day!=0)
	 {   if(day<=end_day)
	     {
	    	 todayis =  day-1+start_day;
	     }else {
	    	 todayis = day%end_day-1;
		}
	 }else {
		 todayis = day-1;
	}  */
	
	 if(start_day!=0)
	 {	
	     if(day<end_day)
	     {
	    	 todayis = start_day+day-1;
	     }else
	     {
	    	 todayis = day-end_day;
	     }
	 }else
	 {
	   if(day<end_day)	 
	   {   todayis = day-1;
	   }else
	   {
		   todayis = day-end_day;
	   }
	 }
	return todayis;
   }

private void Get_sepcday()
{
	isspcday = false;
	String aa =  String.valueOf(year)+String.valueOf(month)+String.valueOf(day);
	//System.out.println(aa);
	int cc = Integer.valueOf(aa);
	
	for (int i = 0; i < spcday.length; i++)
	{
		if(cc==spcday[i][0])
		{
			todayis = spcday[i][1];
			isspcday = true;
			break;
		}
		
		if(month==1)   //消除1月份和11、12月混淆问题
		{
		  if (i>15)
		  {
			  break;
		  }
		}
	}
		
}

public int getStart_day()
{
	return start_day;
}

public void setStart_day(int start_day)
{
	this.start_day = start_day;
}

public int getEnd_day()
{
	return end_day;
}

public void setEnd_day(int end_day)
{
	this.end_day = end_day;
}

public int getDay_nums()
{
	return day_nums;
}

public void setDay_nums(int day_nums)
{
	this.day_nums = day_nums;
}
   
public int get_todayis()
{
	return todayis;
}

}
